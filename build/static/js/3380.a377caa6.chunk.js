"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[3380],{3380:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var a=t(5043),i=t(1243),s=t(6446),o=t(5865),r=t(3360),c=t(7392),l=t(8977),d=t(9012),h=t(7254),m=t(9650),p=t(3336),g=t(1806),u=t(4882),x=t(8076),A=t(2420),j=t(3460),f=t(2429),y=t(7154),b=t(579);const w=()=>{const e={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",p:4},[n,t]=(0,a.useState)(!1),[w,C]=(0,a.useState)(!1),[v,S]=(0,a.useState)({name:"",_id:null}),[T,k]=(0,a.useState)([]),[R,_]=(0,a.useState)(""),[F,D]=(0,a.useState)(!1),[N,M]=(0,a.useState)(""),[B,E]=(0,a.useState)(""),[L,X]=(0,a.useState)(null),[H,I]=(0,a.useState)(null),[W,z]=(0,a.useState)(null),[U,P]=(0,a.useState)(null),V=()=>{t(!1),_("")},q=()=>{C(!1),S({name:"",_id:null})},G=async()=>{const e=await y.A.get("https://demo-sigma.site/api/fragrancenote"),n=await e.data;k(n)};(0,a.useEffect)((()=>{G()}),[]);const J=(e,n)=>{"clickaway"!==n&&D(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.A,{open:n,onClose:V,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,b.jsxs)(s.A,{sx:e,children:[(0,b.jsx)(o.A,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{paddingTop:2,paddingBottom:2},children:"Th\xeam nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsx)(r.A,{fullWidth:!0,value:R,onChange:e=>_(e.target.value),placeholder:"Nh\u1eadp t\xean nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsxs)(s.A,{sx:{paddingTop:4},children:[(0,b.jsxs)("label",{htmlFor:"icon-button-file",children:["\u1ea2nh nh\xf3m h\u01b0\u01a1ng:",(0,b.jsx)("input",{className:"input-upload-image",accept:"image/*",id:"icon-button-file",type:"file",onChange:e=>{const n=e.target.files[0],t=new FileReader;t.onload=()=>{X(t.result)},t.readAsDataURL(n),I(n)}}),(0,b.jsx)(c.A,{color:"primary","aria-label":"upload picture",component:"span",children:(0,b.jsx)(f.A,{})})]}),L&&(0,b.jsx)("img",{src:L,width:150,alt:"Selected Image"})]}),(0,b.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",padding:"20px 0"},children:(0,b.jsx)(l.A,{color:"success",variant:"contained",onClick:async()=>{try{const e=new FormData;e.append("name",R),e.append("image",H);200===(await y.A.post("https://demo-sigma.site/api/fragrancenote/create",e,{headers:{"Content-Type":"multipart/form-data"}})).status&&(G(),_(""),V(),M("Th\xeam nh\xf3m h\u01b0\u01a1ng th\xe0nh c\xf4ng!"),E("success"),D(!0))}catch(e){console.error("Error while creating fragrancenote",e),M("Th\xeam nh\xf3m h\u01b0\u01a1ng th\u1ea5t b\u1ea1i! "),E("error"),D(!0)}},children:"L\u01b0u"})})]})}),(0,b.jsx)(i.A,{open:w,onClose:q,"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",children:(0,b.jsxs)(s.A,{sx:e,children:[(0,b.jsx)(o.A,{id:"edit-modal-title",variant:"h6",component:"h2",sx:{paddingTop:2,paddingBottom:2},children:"Ch\u1ec9nh s\u1eeda nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsx)(r.A,{fullWidth:!0,value:v.name,onChange:e=>{S({...v,name:e.target.value})},placeholder:"S\u1eeda t\xean nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsxs)(s.A,{sx:{paddingTop:4},children:[(0,b.jsxs)("label",{htmlFor:"icon-button-file",children:["\u1ea2nh nh\xf3m h\u01b0\u01a1ng:",(0,b.jsx)("input",{className:"input-upload-image",accept:"image/*",id:"icon-button-file",type:"file",onChange:e=>{const n=e.target.files[0],t=new FileReader;t.onload=()=>{z(t.result)},t.readAsDataURL(n),P(n)}}),(0,b.jsx)(c.A,{color:"primary","aria-label":"upload picture",component:"span",children:(0,b.jsx)(f.A,{})})]}),W?(0,b.jsx)("img",{src:W,width:150,alt:"Selected Image"}):(0,b.jsx)("img",{src:"https://demo-sigma.site/"+v.image,width:150,alt:"Selected Image"})]}),(0,b.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",padding:"20px 0"},children:(0,b.jsx)(l.A,{color:"primary",variant:"contained",onClick:async()=>{try{const e=new FormData;e.append("name",v.name),U&&e.append("image",U);200===(await y.A.patch("https://demo-sigma.site/api/fragrancenote/update/".concat(v._id),e,{headers:{"Content-Type":"multipart/form-data"}})).status&&(G(),q(),M("C\u1eadp nh\u1eadt nh\xf3m h\u01b0\u01a1ng th\xe0nh c\xf4ng!"),E("success"),D(!0))}catch(e){console.error("Error while updating collection",e),M("C\u1eadp nh\u1eadt nh\xf3m h\u01b0\u01a1ng th\u1ea5t b\u1ea1i!"),E("error"),D(!0)}},children:"C\u1eadp nh\u1eadt"})})]})}),(0,b.jsx)(d.A,{open:F,autoHideDuration:2e3,onClose:J,children:(0,b.jsx)(h.A,{onClose:J,severity:B,sx:{width:"100%"},children:N})}),(0,b.jsx)(o.A,{sx:{textAlign:"center",padding:"20px",fontSize:"20px",fontWeight:"600"},children:"Danh s\xe1ch nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsx)(s.A,{sx:{display:"flex",justifyContent:"start",paddingBottom:4},children:(0,b.jsx)(l.A,{onClick:()=>t(!0),variant:"contained",children:"Th\xeam nh\xf3m h\u01b0\u01a1ng"})}),(0,b.jsx)(m.A,{component:p.A,children:(0,b.jsxs)(g.A,{"aria-label":"simple table",children:[(0,b.jsx)(u.A,{children:(0,b.jsxs)(x.A,{children:[(0,b.jsx)(A.A,{align:"center",children:"T\xean nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsx)(A.A,{align:"center",children:"\u1ea2nh nh\xf3m h\u01b0\u01a1ng"}),(0,b.jsx)(A.A,{align:"center",children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,b.jsx)(j.A,{children:T&&T.map((e=>(0,b.jsxs)(x.A,{children:[(0,b.jsx)(A.A,{align:"center",component:"th",scope:"row",children:e.name}),(0,b.jsx)(A.A,{align:"center",component:"th",scope:"row",children:(0,b.jsx)("img",{src:"https://demo-sigma.site/"+e.image,width:100,alt:""})}),(0,b.jsxs)(A.A,{align:"center",children:[(0,b.jsx)(l.A,{variant:"contained",sx:{marginRight:4},onClick:()=>(async e=>{const n=await y.A.get("https://demo-sigma.site/api/fragrancenote/".concat(e));S(n.data),C(!0)})(e._id),color:"primary",children:"S\u1eeda"}),(0,b.jsx)(l.A,{onClick:()=>(async e=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a nh\xf3m h\u01b0\u01a1ng n\xe0y kh\xf4ng?"))try{200===(await y.A.delete("https://demo-sigma.site/api/fragrancenote/delete/".concat(e))).status&&(G(),M("X\xf3a nh\xf3m h\u01b0\u01a1ng th\xe0nh c\xf4ng!"),E("success"),D(!0))}catch(n){console.error("Error while deleting category",n),M("X\xf3a nh\xf3m h\u01b0\u01a1ng th\u1ea5t b\u1ea1i!"),E("error"),D(!0)}})(e._id),variant:"contained",color:"secondary",children:"Xo\xe1"})]})]},e._id)))})]})})]})}},2429:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(6734),i=t(579);const s=(0,a.A)([(0,i.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,i.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera")},9650:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(8168),i=t(8587),s=t(5043),o=t(8387),r=t(8606),c=t(2876),l=t(4535),d=t(7056),h=t(2400);function m(e){return(0,h.Ay)("MuiTableContainer",e)}(0,d.A)("MuiTableContainer",["root"]);var p=t(579);const g=["className","component"],u=(0,l.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),x=s.forwardRef((function(e,n){const t=(0,c.A)({props:e,name:"MuiTableContainer"}),{className:s,component:l="div"}=t,d=(0,i.A)(t,g),h=(0,a.A)({},t,{component:l}),x=(e=>{const{classes:n}=e;return(0,r.A)({root:["root"]},m,n)})(h);return(0,p.jsx)(u,(0,a.A)({ref:n,as:l,className:(0,o.A)(x.root,s),ownerState:h},d))}))}}]);
//# sourceMappingURL=3380.a377caa6.chunk.js.map
"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[8775],{8775:(e,n,t)=>{t.r(n),t.d(n,{default:()=>x});var a=t(5043),s=t(7154),i=t(9252),r=t(6446),o=t(5865),c=t(8903),l=t(2788),d=t(8977),u=t(2110),p=t(6591),m=t(6494),h=t(579);const x=()=>{const[e,n]=(0,a.useState)({title:"",firstBanner:"",subTitle:"",secondBanner:"",description:"",subDescription:""}),[t,x]=(0,a.useState)(null),[A,f]=(0,a.useState)(null),[j,b]=(0,a.useState)(null),[g,y]=(0,a.useState)(null);(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{try{const e=await s.A.get("https://demo-sigma.site/api/info");n(e.data),e.data.firstBanner&&b("https://demo-sigma.site/".concat(e.data.firstBanner)),e.data.secondBanner&&y("https://demo-sigma.site/".concat(e.data.secondBanner))}catch(e){console.error(e.message)}},B=t=>{const{name:a,value:s}=t.target;n({...e,[a]:s})},C=e=>{const{name:n,files:t}=e.target,a=t[0];"firstBanner"===n?(x(a),b(URL.createObjectURL(a))):"secondBanner"===n&&(f(a),y(URL.createObjectURL(a)))};return(0,h.jsx)(i.A,{maxWidth:"md",children:(0,h.jsxs)(r.A,{sx:{my:4},children:[(0,h.jsx)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Update Info"}),(0,h.jsx)("form",{onSubmit:async a=>{a.preventDefault();const i=new FormData;i.append("title",e.title),i.append("subTitle",e.subTitle),i.append("description",e.description),i.append("subDescription",e.subDescription),t&&i.append("firstBanner",t),A&&i.append("secondBanner",A);try{const e=await s.A.put("https://demo-sigma.site/api/info",i,{headers:{"Content-Type":"multipart/form-data"}});n(e.data),alert("Info updated successfully!")}catch(r){console.error(r.message),alert("Failed to update info")}},children:(0,h.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(c.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Title",name:"title",value:e.title,onChange:B,required:!0})}),(0,h.jsx)(c.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Sub Title",name:"subTitle",value:e.subTitle,onChange:B,required:!0})}),(0,h.jsx)(c.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Description",name:"description",value:e.description,onChange:B,multiline:!0,rows:4,required:!0})}),(0,h.jsx)(c.Ay,{item:!0,xs:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Sub Description",name:"subDescription",value:e.subDescription,onChange:B,multiline:!0,rows:2,required:!0})}),(0,h.jsxs)(c.Ay,{item:!0,xs:12,children:[(0,h.jsxs)(d.A,{variant:"contained",component:"label",children:["Upload First Banner",(0,h.jsx)("input",{type:"file",name:"firstBanner",hidden:!0,onChange:C})]}),j&&(0,h.jsxs)(u.A,{sx:{mt:2},children:[(0,h.jsx)(p.A,{component:"img",height:"200",image:j,alt:"First Banner"}),(0,h.jsx)(m.A,{children:(0,h.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"First Banner Preview"})})]})]}),(0,h.jsxs)(c.Ay,{item:!0,xs:12,children:[(0,h.jsxs)(d.A,{variant:"contained",component:"label",children:["Upload Second Banner",(0,h.jsx)("input",{type:"file",name:"secondBanner",hidden:!0,onChange:C})]}),g&&(0,h.jsxs)(u.A,{sx:{mt:2},children:[(0,h.jsx)(p.A,{component:"img",height:"200",image:g,alt:"Second Banner"}),(0,h.jsx)(m.A,{children:(0,h.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Second Banner Preview"})})]})]}),(0,h.jsx)(c.Ay,{item:!0,xs:12,children:(0,h.jsx)(d.A,{variant:"contained",color:"primary",type:"submit",children:"Update Info"})})]})})]})})}},6494:(e,n,t)=>{t.d(n,{A:()=>A});var a=t(8168),s=t(8587),i=t(5043),r=t(8387),o=t(8606),c=t(4535),l=t(2876),d=t(7056),u=t(2400);function p(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=t(579);const h=["className","component"],x=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),A=i.forwardRef((function(e,n){const t=(0,l.A)({props:e,name:"MuiCardContent"}),{className:i,component:c="div"}=t,d=(0,s.A)(t,h),u=(0,a.A)({},t,{component:c}),A=(e=>{const{classes:n}=e;return(0,o.A)({root:["root"]},p,n)})(u);return(0,m.jsx)(x,(0,a.A)({as:c,className:(0,r.A)(A.root,i),ownerState:u,ref:n},d))}))}}]);
//# sourceMappingURL=8775.c6228b99.chunk.js.map
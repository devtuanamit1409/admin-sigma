"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[8287],{8287:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var i=a(2429),s=a(6446),n=a(8903),l=a(2788),r=a(7392),o=a(5865),c=a(8977),d=a(6839),u=a(5043),h=a(579);const m=()=>{const[e,t]=(0,u.useState)(null),[a,m]=(0,u.useState)(""),[p,x]=(0,u.useState)(""),[g,b]=(0,u.useState)(""),[j,f]=(0,u.useState)(""),[w,k]=(0,u.useState)(null);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{sx:{p:4},children:(0,h.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:6,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"Ti\xeau \u0111\u1ec1",value:a,onChange:e=>m(e.target.value),name:"title",required:!0})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:6,children:(0,h.jsx)(l.A,{fullWidth:!0,value:p,onChange:e=>x(e.target.value),label:"T\xe1c gi\u1ea3",name:"author"})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:12,children:(0,h.jsx)(l.A,{fullWidth:!0,label:"M\xf4 t\u1ea3",value:g,onChange:e=>b(e.target.value),name:"describe"})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:2,children:(0,h.jsxs)("label",{htmlFor:"icon-button-file",children:["\u1ea2nh \u0111\u1ea1i di\u1ec7n:",(0,h.jsx)("input",{className:"input-upload-image",accept:"image/*",id:"icon-button-file",type:"file",name:"image",onChange:e=>{const a=e.target.files[0];if(a){k(a);const e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(a)}}}),(0,h.jsx)(r.A,{color:"primary","aria-label":"upload picture",component:"span",children:(0,h.jsx)(i.A,{})})]})}),e&&(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:4,children:(0,h.jsx)("img",{src:e,alt:"Preview",style:{width:"100%",height:"auto"}})}),(0,h.jsxs)(n.Ay,{item:!0,xs:12,sm:12,children:[(0,h.jsx)(o.A,{variant:"h6",children:"N\u1ed9i dung b\xe0i vi\u1ebft"}),(0,h.jsx)(d.K,{value:j,onEditorChange:(e,t)=>f(e),name:"description",apiKey:"5uqva5k7lt0qxlfbezptki5oskz2grzrz3kbiwvsw0kr3vhu",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount linkchecker",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat"}})]}),(0,h.jsx)(n.Ay,{item:!0,xs:12,children:(0,h.jsx)(c.A,{variant:"contained",color:"primary",onClick:()=>(async()=>{const e=new FormData;e.append("title",a),e.append("author",p),e.append("describe",g),e.append("content",j),w&&e.append("image",w);try{const t=await fetch("https://demo-sigma.site/api/news/create",{method:"POST",body:e,headers:{}}),a=await t.json();if(201!==t.status)throw new Error(a.message||"Error creating news");console.log("Success:",a),alert("News created successfully!"),window.location.href="/dashboard/news"}catch(t){console.error("Error:",t),alert(t.message)}})(),children:"L\u01b0u b\xe0i vi\u1ebft"})})]})})})}}}]);
//# sourceMappingURL=8287.e1696ed2.chunk.js.map
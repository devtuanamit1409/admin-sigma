{"version":3,"file":"static/js/1540.b81c2e9c.chunk.js","mappings":"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","sources":["app/views/dashboard/news/index.js","../node_modules/@mui/material/TableContainer/tableContainerClasses.js","../node_modules/@mui/material/TableContainer/TableContainer.js"],"sourcesContent":["import {\r\n  Button,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  TablePagination,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst News = () => {\r\n  const [data, setData] = useState([]);\r\n  const [page, setPage] = useState(0); // Số trang bắt đầu từ 0 cho MUI\r\n  const [rowsPerPage, setRowsPerPage] = useState(10); // Số hàng mỗi trang\r\n  const [totalNews, setTotalNews] = useState(0);\r\n\r\n  const getData = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `https://demo-sigma.site/api/news?page=${page + 1}&limit=${rowsPerPage}`\r\n      );\r\n      const news = res.data;\r\n      setData(news.news);\r\n      setTotalNews(news.totalNews);\r\n      setRowsPerPage(news.limit);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data: \", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [page, rowsPerPage]);\r\n\r\n  // Xử lý thay đổi trang\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  // Xử lý thay đổi số hàng mỗi trang\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0); // Reset về trang đầu tiên\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      // Gửi yêu cầu DELETE đến server\r\n      await axios.delete(`https://demo-sigma.site/api/news/${id}`);\r\n      alert(\"Bài viết đã được xóa thành công!\");\r\n      // Cập nhật lại danh sách bài viết sau khi xóa\r\n      getData();\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi xóa bài viết: \", error);\r\n      alert(\"Có lỗi xảy ra khi xóa bài viết.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"main-btn-add\">\r\n        <Link className=\"btn-add-product\" to=\"/dashboard/add-news\">\r\n          Thêm bài viết\r\n        </Link>\r\n      </div>\r\n\r\n      <Typography\r\n        sx={{\r\n          textAlign: \"center\",\r\n          padding: \"20px\",\r\n          fontSize: \"20px\",\r\n          fontWeight: \"600\",\r\n        }}\r\n      >\r\n        Danh sách bài viết\r\n      </Typography>\r\n      <TableContainer component={Paper}>\r\n        <Table aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">Tên bài viết</TableCell>\r\n              <TableCell align=\"center\">Hành động</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.map((newsItem) => (\r\n              <TableRow key={newsItem._id}>\r\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                  {newsItem.title}\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <Link to={`/dashboard/edit-news/${newsItem._id}`}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      sx={{ marginRight: 4 }}\r\n                      color=\"primary\"\r\n                    >\r\n                      Sửa\r\n                    </Button>\r\n                  </Link>\r\n\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    onClick={() => handleDelete(newsItem._id)}\r\n                  >\r\n                    Xóa\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 15]}\r\n          component=\"div\"\r\n          count={totalNews}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTableContainerUtilityClass(slot) {\n  return generateUtilityClass('MuiTableContainer', slot);\n}\nconst tableContainerClasses = generateUtilityClasses('MuiTableContainer', ['root']);\nexport default tableContainerClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getTableContainerUtilityClass } from './tableContainerClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTableContainerUtilityClass, classes);\n};\nconst TableContainerRoot = styled('div', {\n  name: 'MuiTableContainer',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  width: '100%',\n  overflowX: 'auto'\n});\nconst TableContainer = /*#__PURE__*/React.forwardRef(function TableContainer(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTableContainer'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(TableContainerRoot, _extends({\n    ref: ref,\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TableContainer.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component, normally `Table`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default TableContainer;"],"names":["News","data","setData","useState","page","setPage","rowsPerPage","setRowsPerPage","totalNews","setTotalNews","getData","async","news","axios","get","concat","limit","error","console","useEffect","_jsxs","_Fragment","children","_jsx","className","Link","to","Typography","sx","textAlign","padding","fontSize","fontWeight","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","map","newsItem","scope","title","_id","Button","variant","marginRight","color","onClick","delete","id","alert","handleDelete","TablePagination","rowsPerPageOptions","count","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","parseInt","target","value","getTableContainerUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","TableContainerRoot","styled","name","overridesResolver","props","styles","root","width","overflowX","React","inProps","ref","useThemeProps","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","as","clsx"],"sourceRoot":""}
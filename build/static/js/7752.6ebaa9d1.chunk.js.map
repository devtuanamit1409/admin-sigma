{"version":3,"file":"static/js/7752.6ebaa9d1.chunk.js","mappings":"gVAuBA,MAiJA,EAjJeA,KACb,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACRC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,OAC5BC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,KAarCG,EAAAA,EAAAA,YAAU,KAXOC,WACf,IACE,MAAMC,QAAYC,EAAAA,EAAMC,IAAI,qCAADC,OAAsCZ,IACjEG,EAASM,EAAII,MACbP,EAAUG,EAAII,KAAKR,OACrB,CAAE,MAAOS,GACPC,QAAQD,MAAM,SAAUA,GACxBE,MAAM,8EACR,GAIAC,EAAU,GACT,CAACjB,IAmBJ,OAAKE,GAKHgB,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CAACC,QAAM,EAACC,GAAI,CAAEC,SAAU,IAAKC,GAAI,OAAQC,GAAI,GAAIC,UACpDC,EAAAA,EAAAA,MAACC,EAAAA,EAAW,CAAAF,SAAA,EACVC,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CAACC,QAAQ,KAAKC,UAAU,MAAMC,cAAY,EAAAN,SAAA,CAAC,wCAChCvB,EAAM8B,SAE5BN,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CAACC,QAAQ,YAAYE,cAAY,EAAAN,SAAA,CAAC,qBAC9BvB,EAAM+B,SAAS,KAAG/B,EAAMgC,MAAM,QAE7CR,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CAACC,QAAQ,QAAQM,MAAM,iBAAgBV,SAAA,CAC/CvB,EAAMkC,QAAQ,KAAGlC,EAAMmC,KAAK,KAAGnC,EAAMoC,SAAS,KAAGpC,EAAMqC,aAE1Db,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CAACC,QAAQ,QAAQM,MAAM,iBAAgBV,SAAA,CAAC,8BACpCvB,EAAMsC,UAErBtB,EAAAA,EAAAA,KAACuB,EAAAA,EAAI,CACHC,MAAK,uBAAA9B,OAAiBV,EAAMG,QAC5B8B,MAAM,UACNN,QAAQ,WACRR,GAAI,CAAEG,GAAI,EAAGmB,GAAI,MAEnBzB,EAAAA,EAAAA,KAAC0B,EAAAA,EAAO,CAACvB,GAAI,CAAEwB,GAAI,MACnB3B,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CAACC,QAAQ,KAAKC,UAAU,MAAKL,SAAC,2CAGzCP,EAAAA,EAAAA,KAAC4B,EAAAA,EAAI,CAAArB,SACFvB,EAAM6C,SAASC,KAAKC,IACnBvB,EAAAA,EAAAA,MAACwB,EAAAA,GAAQ,CAAmBC,WAAW,aAAY1B,SAAA,EACjDP,EAAAA,EAAAA,KAACkC,EAAAA,EAAc,CAAA3B,UACbP,EAAAA,EAAAA,KAACmC,EAAAA,EAAM,CACLxB,QAAQ,SACRyB,IAAG,2BAAA1C,OAA6BqC,EAAQA,QAAQM,OAAO,GAAGC,QACxD,MACA,MAEFC,IAAKR,EAAQA,QAAQS,KACrBrC,GAAI,CAAEsC,MAAO,GAAIC,OAAQ,SAG7B1C,EAAAA,EAAAA,KAAC2C,EAAAA,EAAY,CACXC,QAASb,EAAQA,QAAQS,KACzBK,WACErC,EAAAA,EAAAA,MAACsC,EAAAA,SAAc,CAAAvC,SAAA,EACbC,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CACTE,UAAU,OACVD,QAAQ,QACRM,MAAM,eAAcV,SAAA,CACrB,SACQwB,EAAQgB,SAASC,KAAK,YAAO,IACnCjB,EAAQgB,SAASE,MAAMC,iBAAiB,UAE1CnB,EAAQgB,SAASI,qBAChB3C,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CACTE,UAAU,OACVD,QAAQ,QACRM,MAAM,QACNd,GAAI,CAAEiD,GAAI,GAAI7C,SAAA,CACf,oBACW,IACTwB,EAAQgB,SAASI,mBAAmBD,iBAAkB,IAAI,gBAhCxDnB,EAAQsB,UA0C3B7C,EAAAA,EAAAA,MAACE,EAAAA,EAAU,CAACC,QAAQ,YAAYM,MAAM,eAAed,GAAI,CAAEG,GAAI,GAAIC,SAAA,CAAC,wBACtDvB,EAAMsE,MAAMJ,iBAAiB,WAE3ClD,EAAAA,EAAAA,KAAC0B,EAAAA,EAAO,CAACvB,GAAI,CAAEwB,GAAI,MACnBnB,EAAAA,EAAAA,MAAC+C,EAAAA,EAAG,CAACpD,GAAI,CAAEG,GAAI,GAAIC,SAAA,EACjBC,EAAAA,EAAAA,MAACgD,EAAAA,EAAW,CAACC,WAAS,EAAC9C,QAAQ,WAAUJ,SAAA,EACvCP,EAAAA,EAAAA,KAAC0D,EAAAA,EAAU,CAAC5E,GAAG,qBAAoByB,SAAC,wBACpCC,EAAAA,EAAAA,MAACmD,EAAAA,EAAM,CACLC,QAAQ,qBACR9E,GAAG,sBACH+E,MAAO1E,EACP2E,SArGgBC,IAC1B3E,EAAU2E,EAAMC,OAAOH,MAAM,EAqGnBrC,MAAM,qBAAYjB,SAAA,EAElBP,EAAAA,EAAAA,KAACiE,EAAAA,EAAQ,CAACJ,MAAM,yBAAgBtD,SAAC,4BACjCP,EAAAA,EAAAA,KAACiE,EAAAA,EAAQ,CAACJ,MAAM,8BAAWtD,SAAC,iCAC5BP,EAAAA,EAAAA,KAACiE,EAAAA,EAAQ,CAACJ,MAAM,uBAAYtD,SAAC,0BAC7BP,EAAAA,EAAAA,KAACiE,EAAAA,EAAQ,CAACJ,MAAM,kBAAStD,SAAC,qBAC1BP,EAAAA,EAAAA,KAACiE,EAAAA,EAAQ,CAACJ,MAAM,sBAAQtD,SAAC,+BAG7BP,EAAAA,EAAAA,KAACkE,EAAAA,EAAM,CACLvD,QAAQ,YACRM,MAAM,UACNd,GAAI,CAAEG,GAAI,GACV6D,QA/GgB7E,UACxB,IACE,MAAMC,QAAYC,EAAAA,EAAM4E,MAAM,qCAAD1E,OAAsCZ,GAAM,CACvEK,WAEFW,MAAM,sBAADJ,OAAuBH,EAAII,KAAKR,SACrCkF,OAAOC,SAASC,QAClB,CAAE,MAAO3E,GACPC,QAAQD,MAAM,+BAAgCA,GAC9CE,MAAM,0BACR,GAqGmCS,SAC5B,mDAlGAP,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CAAAH,SAAC,cAuGZ,C,gIClKJ,SAASiE,EAA2BC,GACzC,OAAOC,EAAAA,EAAAA,IAAqB,iBAAkBD,EAChD,EAC2BE,EAAAA,EAAAA,GAAuB,iBAAkB,CAAC,S,aCDrE,MAAMC,EAAY,CAAC,YAAa,aAkB1BC,GAAkBC,EAAAA,EAAAA,IAAO,MAAO,CACpCtC,KAAM,iBACNiC,KAAM,OACNM,kBAAmBA,CAACC,EAAOC,IAAWA,EAAOC,MAHvBJ,EAIrB,KACM,CACLK,QAAS,GACT,eAAgB,CACdC,cAAe,QAoDrB,EAhDiCtC,EAAAA,YAAiB,SAAqBuC,EAASC,GAC9E,MAAMN,GAAQO,EAAAA,EAAAA,GAAc,CAC1BP,MAAOK,EACP7C,KAAM,oBAEF,UACFgD,EAAS,UACT5E,EAAY,OACVoE,EACJS,GAAQC,EAAAA,EAAAA,GAA8BV,EAAOJ,GACzCe,GAAaC,EAAAA,EAAAA,GAAS,CAAC,EAAGZ,EAAO,CACrCpE,cAEIiF,EAlCkBF,KACxB,MAAM,QACJE,GACEF,EAIJ,OAAOG,EAAAA,EAAAA,GAHO,CACZZ,KAAM,CAAC,SAEoBV,EAA4BqB,EAAQ,EA2BjDE,CAAkBJ,GAClC,OAAoB3F,EAAAA,EAAAA,KAAK6E,GAAiBe,EAAAA,EAAAA,GAAS,CACjDI,GAAIpF,EACJ4E,WAAWS,EAAAA,EAAAA,GAAKJ,EAAQX,KAAMM,GAC9BG,WAAYA,EACZL,IAAKA,GACJG,GACL,G","sources":["app/views/dashboard/order/detail.js","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  Box,\r\n  Chip,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  Button,\r\n  InputLabel,\r\n  Divider,\r\n} from \"@mui/material\";\r\n\r\nconst Detail = () => {\r\n  const { id } = useParams();\r\n  const [order, setOrder] = useState(null);\r\n  const [status, setStatus] = useState(\"\");\r\n\r\n  const getOrder = async () => {\r\n    try {\r\n      const res = await axios.get(`https://demo-sigma.site/api/order/${id}`);\r\n      setOrder(res.data);\r\n      setStatus(res.data.status); // Cập nhật trạng thái ban đầu\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Có lỗi xảy ra khi lấy thông tin đơn hàng.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getOrder();\r\n  }, [id]);\r\n\r\n  const handleStatusChange = (event) => {\r\n    setStatus(event.target.value);\r\n  };\r\n\r\n  const updateOrderStatus = async () => {\r\n    try {\r\n      const res = await axios.patch(`https://demo-sigma.site/api/order/${id}`, {\r\n        status,\r\n      });\r\n      alert(`Status updated to: ${res.data.status}`);\r\n      window.location.reload(); // Tải lại trang để cập nhật dữ liệu mới\r\n    } catch (error) {\r\n      console.error(\"Error updating order status:\", error);\r\n      alert(\"Failed to update status\");\r\n    }\r\n  };\r\n\r\n  if (!order) {\r\n    return <Typography>Loading...</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Card raised sx={{ maxWidth: 800, mx: \"auto\", mt: 4 }}>\r\n      <CardContent>\r\n        <Typography variant=\"h4\" component=\"div\" gutterBottom>\r\n          Chi tiết đơn hàng: {order.code}\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" gutterBottom>\r\n          Khách hàng: {order.fullName} ({order.email})\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          {order.address}, {order.ward}, {order.district}, {order.province}\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          Điện thoại: {order.phone}\r\n        </Typography>\r\n        <Chip\r\n          label={`Trạng thái: ${order.status}`}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          sx={{ mt: 2, mb: 2 }}\r\n        />\r\n        <Divider sx={{ my: 2 }} />\r\n        <Typography variant=\"h6\" component=\"div\">\r\n          Sản phẩm đặt mua:\r\n        </Typography>\r\n        <List>\r\n          {order.products.map((product) => (\r\n            <ListItem key={product._id} alignItems=\"flex-start\">\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  variant=\"square\"\r\n                  src={`https://demo-sigma.site/${product.product.images[0].replace(\r\n                    /\\\\/g,\r\n                    \"/\"\r\n                  )}`}\r\n                  alt={product.product.name}\r\n                  sx={{ width: 90, height: 90 }}\r\n                />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={product.product.name}\r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography\r\n                      component=\"span\"\r\n                      variant=\"body2\"\r\n                      color=\"text.primary\"\r\n                    >\r\n                      Size: {product.sizeInfo.size}, Giá:{\" \"}\r\n                      {product.sizeInfo.price.toLocaleString()} VND\r\n                    </Typography>\r\n                    {product.sizeInfo.getDiscountedPrice && (\r\n                      <Typography\r\n                        component=\"span\"\r\n                        variant=\"body2\"\r\n                        color=\"error\"\r\n                        sx={{ ml: 2 }}\r\n                      >\r\n                        Giá giảm:{\" \"}\r\n                        {product.sizeInfo.getDiscountedPrice.toLocaleString()}{\" \"}\r\n                        VND\r\n                      </Typography>\r\n                    )}\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Typography variant=\"subtitle1\" color=\"text.primary\" sx={{ mt: 2 }}>\r\n          Tổng tiền: {order.total.toLocaleString()} VND\r\n        </Typography>\r\n        <Divider sx={{ my: 2 }} />\r\n        <Box sx={{ mt: 2 }}>\r\n          <FormControl fullWidth variant=\"outlined\">\r\n            <InputLabel id=\"order-status-label\">Trạng thái</InputLabel>\r\n            <Select\r\n              labelId=\"order-status-label\"\r\n              id=\"order-status-select\"\r\n              value={status}\r\n              onChange={handleStatusChange}\r\n              label=\"Trạng thái\"\r\n            >\r\n              <MenuItem value=\"Chờ thanh toán\">Chờ thanh toán</MenuItem>\r\n              <MenuItem value=\"Xử lý đơn\">Xử lý đơn</MenuItem>\r\n              <MenuItem value=\"Vận chuyển\">Vận chuyển</MenuItem>\r\n              <MenuItem value=\"Đã giao\">Đã giao</MenuItem>\r\n              <MenuItem value=\"Đã hủy\">Đã hủy</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            sx={{ mt: 2 }}\r\n            onClick={updateOrderStatus}\r\n          >\r\n            Cập nhật trạng thái\r\n          </Button>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardContentUtilityClass } from './cardContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  };\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;"],"names":["Detail","id","useParams","order","setOrder","useState","status","setStatus","useEffect","async","res","axios","get","concat","data","error","console","alert","getOrder","_jsx","Card","raised","sx","maxWidth","mx","mt","children","_jsxs","CardContent","Typography","variant","component","gutterBottom","code","fullName","email","color","address","ward","district","province","phone","Chip","label","mb","Divider","my","List","products","map","product","ListItem","alignItems","ListItemAvatar","Avatar","src","images","replace","alt","name","width","height","ListItemText","primary","secondary","React","sizeInfo","size","price","toLocaleString","getDiscountedPrice","ml","_id","total","Box","FormControl","fullWidth","InputLabel","Select","labelId","value","onChange","event","target","MenuItem","Button","onClick","patch","window","location","reload","getCardContentUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardContentRoot","styled","overridesResolver","props","styles","root","padding","paddingBottom","inProps","ref","useThemeProps","className","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","as","clsx"],"sourceRoot":""}
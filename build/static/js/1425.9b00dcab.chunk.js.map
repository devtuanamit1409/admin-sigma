{"version":3,"file":"static/js/1425.9b00dcab.chunk.js","mappings":"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","sources":["app/views/dashboard/products/index.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Pagination,\n  Button,\n  Stack,\n} from \"@mui/material\";\n\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction ProductTable() {\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const getData = async () => {\n    try {\n      const res = await axios.get(\n        `https://demo-sigma.site/api/product?page=${page + 1}`\n      );\n      const products = res.data;\n      setData(products.data);\n      setTotalPages(products.totalPages); // Lưu tổng số trang trả về từ server\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]); // Chỉ page là dependency\n  const handleEdit = (productId) => {\n    console.log(\"Edit product\", productId);\n    // Logic để sửa sản phẩm\n  };\n\n  const handleDelete = (productId) => {\n    console.log(\"Delete product\", productId);\n    // Logic để xoá sản phẩm\n  };\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage - 1); // Chỉnh lại cho phù hợp với zero-based index\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  return (\n    <>\n      <div className=\"main-btn-add\">\n        <Link className=\"btn-add-product\" to=\"/dashboard/add-product\">\n          Thêm sản phẩm\n        </Link>\n      </div>\n\n      <TableContainer component={Paper}>\n        <Table aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Tên sản phẩm</TableCell>\n              <TableCell align=\"center\">Giá</TableCell>\n              <TableCell align=\"center\">Danh mục</TableCell>\n              <TableCell align=\"center\">Thương hiệu</TableCell>\n              <TableCell align=\"center\">Ảnh sản phẩm</TableCell>\n              <TableCell align=\"center\">Hành động</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                  {product.name}\n                </TableCell>\n                <TableCell align=\"center\">\n                  {product.sizes[0].price.toLocaleString()}đ\n                </TableCell>\n                <TableCell align=\"center\">{product.category.name}</TableCell>\n                <TableCell align=\"center\">{product.brand.name}</TableCell>\n                <TableCell align=\"center\">\n                  <img\n                    src={`https://demo-sigma.site/` + product.images[0]}\n                    width=\"100%\"\n                    alt=\"\"\n                  />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Link to={`/dashboard/edit-product/${product._id}`}>Sửa</Link>\n                  <Button\n                    onClick={() => handleDelete(product.id)}\n                    color=\"secondary\"\n                  >\n                    Xoá\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Stack\n        sx={{ paddingTop: \"15px\", display: \"flex\", justifyContent: \"end\" }}\n        spacing={2}\n      >\n        <Pagination\n          count={totalPages}\n          page={page + 1}\n          color=\"primary\"\n          onChange={handleChangePage}\n        />\n      </Stack>\n    </>\n  );\n}\n\nexport default ProductTable;\n"],"names":["data","setData","useState","page","setPage","rowsPerPage","setRowsPerPage","totalPages","setTotalPages","useEffect","async","products","axios","get","concat","error","console","getData","_jsxs","_Fragment","children","_jsx","className","Link","to","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","map","product","scope","name","sizes","price","toLocaleString","category","brand","src","images","width","alt","_id","Button","onClick","handleDelete","productId","id","log","color","Stack","sx","paddingTop","display","justifyContent","spacing","Pagination","count","onChange","handleChangePage","event","newPage"],"sourceRoot":""}
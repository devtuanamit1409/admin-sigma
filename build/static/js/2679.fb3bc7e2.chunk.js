"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[2679],{2679:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var i=s(5043),r=s(3216),n=s(5475),t=s(4535),l=s(6446),o=s(6240),d=s(2110),m=s(8903),h=s(2788),c=s(2812),p=s(1135),u=s(899),g=s(579);const x=(0,t.Ay)(l.A)((()=>({display:"flex"}))),y=(0,t.Ay)("div")((()=>({height:"100%",padding:"32px",position:"relative",background:"rgba(0, 0, 0, 0.01)"}))),w=(0,t.Ay)("div")((()=>({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1A2038",minHeight:"100% !important","& .card":{maxWidth:800,minHeight:400,margin:"1rem",display:"flex",borderRadius:12,alignItems:"center"},".img-wrapper":{height:"100%",minWidth:320,display:"flex",padding:"2rem",alignItems:"center",justifyContent:"center"}}))),j=u.Ik().shape({password:u.Yj().min(6,"Password must be 6 character length").required("Password is required!"),email:u.Yj().email("Invalid Email address").required("Email is required!")});function f(){const e=(0,o.A)(),a=(0,r.Zp)(),[s,t]=(0,i.useState)(!1),[l,u]=(0,i.useState)("");return(0,g.jsx)(w,{children:(0,g.jsx)(d.A,{className:"card",children:(0,g.jsxs)(m.Ay,{container:!0,children:[(0,g.jsx)(m.Ay,{item:!0,sm:6,xs:12,children:(0,g.jsx)("div",{className:"img-wrapper",children:(0,g.jsx)("img",{src:"/assets/images/logo-main.png",width:"100%",alt:""})})}),(0,g.jsx)(m.Ay,{item:!0,sm:6,xs:12,children:(0,g.jsx)(y,{children:(0,g.jsx)(p.l1,{initialValues:{email:"",password:""},onSubmit:e=>(async(e,s)=>{t(!0),u("");try{const i=await fetch("https://demo-sigma.site/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),r=await i.json();if(!i.ok)return void u(r.message||"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i");if(!i.ok||!r.user.isAdmin)throw r.user.isAdmin?new Error(r.message||"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i"):new Error("\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i! B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp");localStorage.setItem("token",r.token),a("/dashboard/default")}catch(i){u(i.message)}finally{t(!1)}})(e.email,e.password),validationSchema:j,children:a=>{let{values:i,errors:r,touched:t,handleChange:o,handleBlur:d,handleSubmit:m}=a;return(0,g.jsxs)("form",{onSubmit:m,children:[(0,g.jsx)(h.A,{fullWidth:!0,size:"small",type:"email",name:"email",label:"Email",variant:"outlined",onChange:o,onBlur:d,value:i.email,error:t.email&&Boolean(r.email),helperText:t.email&&r.email,sx:{mb:3}}),(0,g.jsx)(h.A,{fullWidth:!0,size:"small",name:"password",type:"password",label:"Password",variant:"outlined",onChange:o,onBlur:d,value:i.password,error:t.password&&Boolean(r.password),helperText:t.password&&r.password,sx:{mb:1.5}}),(0,g.jsxs)(x,{justifyContent:"space-between",children:[(0,g.jsx)(x,{gap:1}),(0,g.jsx)(n.k2,{to:"/session/forgot-password",style:{color:e.palette.primary.main},children:"Qu\xean m\u1eadt kh\u1ea9u?"})]}),(0,g.jsx)(c.A,{fullWidth:!0,type:"submit",color:"primary",loading:s,variant:"contained",sx:{my:2},children:"\u0110\u0103ng nh\u1eadp"}),l&&(0,g.jsx)("div",{style:{color:"red",marginTop:10},children:l})]})}})})})]})})})}}}]);
//# sourceMappingURL=2679.fb3bc7e2.chunk.js.map